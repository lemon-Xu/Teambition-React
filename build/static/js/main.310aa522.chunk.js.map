{"version":3,"sources":["webpack:///./src/style.less?103b","style.less","webpack:///./src/component/T/label.less?ed1d","component/T/label.less","component/T/label.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["content","module","i","options","transform","undefined","locals","exports","___CSS_LOADER_API_IMPORT___","push","Label","props","useState","isHover","setHover","color","deleteFC","name","index","onMouseOver","onMouseOut","className","style","backgroundColor","CloseOutlined","display","onClick","CreateLabel","setName","optionalColor","setColor","type","value","autoFocus","onChange","e","target","map","item","CheckOutlined","Icon","label","inUse","add","setState","SearchLabel","labels","labelArray","setIndex","placeholder","text","length","setSearchName","float","EditOutlined","EditLabel","LeftOutlined","goBackFC","delete","alterLabel","Array","setTextChange","state","setVersion","searchName","labelDeleteEvent","splice","pre","editProps","searchLabel","toEdit","createLabel","fold","PlusCircleOutlined","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.310aa522.chunk.js","sourcesContent":["\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./style.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./style.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./style.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header {\\n  color: #ffd1dc;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./label.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./label.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./label.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".menu {\\n  box-shadow: 2px 2px 9px 2px #999;\\n  width: 250px;\\n  border: solid 1px;\\n  text-align: center;\\n  background-color: white;\\n}\\n.menu > div {\\n  padding: 12px;\\n}\\n.menu > div > * {\\n  margin-right: 12px;\\n}\\n.menu > input {\\n  width: 212px;\\n  height: 34px;\\n  font-size: 12px;\\n}\\n.interval {\\n  margin-right: 6px;\\n}\\n.smallInterval-right {\\n  margin-right: 6px;\\n}\\n.smallInterval-left {\\n  margin-left: 6px;\\n}\\n.menu2 {\\n  box-shadow: 2px 2px 9px 2px #999;\\n  width: 250px;\\n  border: solid 1px;\\n  text-align: center;\\n  background-color: white;\\n}\\n.menu2 > div {\\n  padding: 12px;\\n}\\n.menu2 > div > * {\\n  margin-right: 12px;\\n}\\n.menuInputText {\\n  width: 250px;\\n  height: 34px;\\n  font-size: 12px;\\n  border-top: none;\\n  border-left: none;\\n  border-right: none;\\n}\\n.menuHeadline {\\n  border-bottom: 1px solid;\\n  margin-bottom: 12px;\\n}\\n.menuSearch {\\n  width: 250px;\\n  box-shadow: 2px 2px 9px 2px #999;\\n  border: solid 1px;\\n  background-color: white;\\n}\\n.menuSearch > input {\\n  width: 250px;\\n  border-style: none;\\n  height: 28px;\\n}\\n.garden {\\n  border-radius: 12px;\\n  width: 24px;\\n  height: 24px;\\n  border-style: none;\\n  padding: 0px;\\n}\\n.garden:parent {\\n  margin: 0;\\n  padding: 0;\\n}\\n.garden-border-radius-5px {\\n  border-radius: 5px;\\n}\\n.border-radius-50px {\\n  border-radius: 30px;\\n}\\n.button {\\n  border-radius: 10px;\\n}\\n.dot {\\n  width: 18px;\\n  height: 18px;\\n  border-radius: 9px;\\n  border-style: none;\\n}\\n.smallButton {\\n  height: 24px;\\n  padding: 0 10px 0 10px;\\n}\\n.middleButton {\\n  width: 100px;\\n  height: 40px;\\n}\\n.dangerousButton {\\n  color: #ff4d4f;\\n  background-color: white;\\n  border-color: #ff4d4f;\\n  border-width: 2px;\\n  border-style: solid;\\n  border-radius: 5px;\\n}\\n.ordinaryButton {\\n  background-color: #33a1fa;\\n  color: white;\\n  border-radius: 5px;\\n  border-style: none;\\n}\\n.position {\\n  position: relative;\\n}\\n.floatMenu {\\n  position: absolute;\\n  top: 24px;\\n  z-index: 1;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React, { useState, FC, useReducer, useContext } from \"react\";\r\nimport Icon, {\r\n  CloseOutlined,\r\n  CheckOutlined,\r\n  LeftOutlined,\r\n  EditOutlined,\r\n  SecurityScanTwoTone,\r\n  PlusCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport \"./label.less\";\r\n\r\ninterface IState {\r\n  nameArray: Array<string>; // 标签名字\r\n  colorArray: Array<string>; // 标签颜色\r\n}\r\n\r\ninterface IAction {\r\n  type: IActionType;\r\n}\r\n\r\ninterface IActionType {}\r\n\r\nconst LABEL_ADD: IActionType = \"LABEL_ADD\";\r\nconst LABEL_DELETE: IActionType = \"LABEL_DELETE\";\r\nconst LABEL_ALTER: IActionType = \"LABEL_ALTER\";\r\n\r\nconst reducer = (state: IState, action: IAction) => {\r\n  switch (action.type) {\r\n    case LABEL_ADD:\r\n      return {\r\n        ...state,\r\n      };\r\n    case LABEL_DELETE:\r\n      return {\r\n        ...state,\r\n      };\r\n    case LABEL_ALTER:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n};\r\n\r\ninterface LabelProps {\r\n  name: string;\r\n  color: string;\r\n  index: number;\r\n  deleteFC(index: number): void;\r\n}\r\nconst Label = (props: LabelProps) => {\r\n  const [isHover, setHover] = useState(false);\r\n  const color = props.color;\r\n  const deleteFC = props.deleteFC;\r\n  const name = props.name;\r\n  const index = props.index;\r\n  return (\r\n    <span onMouseOver={() => setHover(true)} onMouseOut={() => setHover(false)}>\r\n      <button\r\n        className=\"border-radius-50px smallButton smallInterval-right\"\r\n        style={{ backgroundColor: color }}\r\n      >\r\n        {name}\r\n        <span className=\"smallInterval-left\">\r\n          <CloseOutlined\r\n            style={{ display: isHover ? \"inline\" : \"none\" }}\r\n            onClick={() => {\r\n              deleteFC(index);\r\n            }}\r\n          />\r\n        </span>\r\n      </button>\r\n    </span>\r\n  );\r\n};\r\n\r\ninterface CreateLabelProps {\r\n  add: (label: Label) => void;\r\n  name: string;\r\n  optionalColor: Array<string>;\r\n  setState: (index: number) => void;\r\n}\r\n\r\nconst CreateLabel = (props: CreateLabelProps) => {\r\n  const [name, setName] = useState(props.name);\r\n  const [color, setColor] = useState(props.optionalColor[0]);\r\n  return (\r\n    <div className=\"menu2\">\r\n      <input\r\n        type=\"text\"\r\n        value={name}\r\n        autoFocus={true}\r\n        onChange={(e) => {\r\n          setName(e.target.value);\r\n        }}\r\n        className=\"menuInputText\"\r\n      />\r\n      <div>\r\n        {props.optionalColor.map((item, index) => {\r\n          return (\r\n            <button\r\n              style={{ backgroundColor: item }}\r\n              onClick={() => {\r\n                setColor(item);\r\n              }}\r\n              className=\"garden\"\r\n            >\r\n              {item === color ? <CheckOutlined /> : <Icon />}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n      <div>\r\n        <button\r\n          onClick={() => {\r\n            const label = {\r\n              name: name,\r\n              color: color,\r\n              inUse: true,\r\n            };\r\n            props.add(label);\r\n            props.setState(-1);\r\n          }}\r\n          className=\"middleButton ordinaryButton\"\r\n        >\r\n          创建\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface SearchLabelProps {\r\n  labels: Array<Label>;\r\n  index: number;\r\n  toEdit: () => void;\r\n  delete: (index: number) => void;\r\n  setSearchName: (name: string) => void;\r\n  setState: (state: number) => void;\r\n  setIndex: (index: number) => void;\r\n}\r\n\r\nconst SearchLabel = (props: SearchLabelProps) => {\r\n  const [labelArray, setLabelArray] = useState(props.labels);\r\n  const [index, setIndex] = useState(props.index);\r\n\r\n  return (\r\n    <div className=\"menuSearch\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"搜索标签\"\r\n        onChange={(e) => {\r\n          const text = e.target.value;\r\n          if (labelArray.length === 0) {\r\n            props.setSearchName(text);\r\n            props.setState(2);\r\n          }\r\n          for (let i in labelArray) {\r\n            if (text === labelArray[i].name) {\r\n              break;\r\n            }\r\n            props.setSearchName(text);\r\n            props.setState(2);\r\n          }\r\n        }}\r\n      />\r\n      {labelArray.map((item, i) => {\r\n        return (\r\n          <div\r\n            onMouseOver={() => {\r\n              setIndex(i);\r\n            }}\r\n            onMouseOut={() => {\r\n              setIndex(-1);\r\n            }}\r\n          >\r\n            <button style={{ backgroundColor: item.color }} className=\"dot\" />\r\n            <span style={{ color: \"black\" }}>{item.name}</span>\r\n\r\n            <CheckOutlined\r\n              style={{\r\n                float: \"right\",\r\n                display: item.inUse === true ? \"inline\" : \"none\",\r\n              }}\r\n            />\r\n            <EditOutlined\r\n              style={{\r\n                float: \"right\",\r\n                display: index === i ? \"inline\" : \"none\",\r\n              }}\r\n              onClick={() => {\r\n                props.setIndex(i);\r\n                props.setState(1);\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface Label {\r\n  color: string;\r\n  name: string;\r\n  inUse: boolean;\r\n}\r\n\r\ninterface IPEditLabel {\r\n  label: Label;\r\n  index: number;\r\n  optionalColor: Array<string>;\r\n  goBackFC: () => void;\r\n  alterLabel: (label: Label) => void;\r\n  delete: (index: number) => void;\r\n  setState: (index: number) => void;\r\n}\r\n\r\nconst EditLabel = (props: IPEditLabel) => {\r\n  const [name, setName] = useState(props.label.name);\r\n  const [color, setColor] = useState(props.label.color);\r\n  const label: Label = {\r\n    name: name,\r\n    color: color,\r\n    inUse: props.label.inUse,\r\n  };\r\n  return (\r\n    <div className=\"menu\">\r\n      <div className=\"menuHeadline\">\r\n        <LeftOutlined\r\n          style={{ float: \"left\" }}\r\n          onClick={() => props.goBackFC()}\r\n        />\r\n        编辑标签\r\n        <CloseOutlined style={{ float: \"right\" }} />\r\n      </div>\r\n      <input\r\n        value={name}\r\n        type=\"text\"\r\n        onChange={(e) => {\r\n          setName(e.target.value);\r\n        }}\r\n      />\r\n      <div>\r\n        {props.optionalColor.map((item) => {\r\n          return (\r\n            <button\r\n              style={{ backgroundColor: item }}\r\n              onClick={() => {\r\n                setColor(item);\r\n              }}\r\n              className=\"garden\"\r\n            >\r\n              {color === item ? <CheckOutlined /> : <Icon />}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n      <div>\r\n        <button\r\n          className=\"middleButton dangerousButton\"\r\n          onClick={() => {\r\n            props.delete(props.index);\r\n            props.setState(0);\r\n          }}\r\n        >\r\n          删除\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            props.alterLabel(label);\r\n            props.setState(0);\r\n          }}\r\n          className=\"middleButton ordinaryButton\"\r\n        >\r\n          完成\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default () => {\r\n  const [labels, setLabels] = useState(new Array<Label>());\r\n  const [nameArray, setNameArray] = useState(new Array<string>()); // 标签名字\r\n\r\n  const optionalColor = [\r\n    \"rgb(63,165,238)\",\r\n    \"rgb(119,198,62)\",\r\n    \"rgb(42,190,176)\",\r\n    \"rgb(119,124,202)\",\r\n    \"rgb(253,173,52)\",\r\n    \"rgb(254,77,61)\",\r\n  ]; // 备选颜色\r\n  const [color, setColor] = useState(\"rgb(63,165,238)\");\r\n  const [name, setName] = useState(\"\");\r\n  const [textChange, setTextChange] = useState(false); // 文本改变\r\n  const [state, setState] = useState(-1); //-1隐藏 0搜索   1编辑 2创建\r\n  const [index, setIndex] = useState(-1); // 当前选择的标签下标\r\n  const [version, setVersion] = useState(0);\r\n  const [searchName, setSearchName] = useState(\"\");\r\n\r\n  const labelDeleteEvent = (index: number): void => {\r\n    // let label = labels[index];\r\n    // label.inUse = false;\r\n    labels.splice(index, 1);\r\n    // labels.push(label);\r\n    setVersion((pre) => pre + 1);\r\n  };\r\n\r\n  const toEdit = (index: number) => {\r\n    setState(1);\r\n    setIndex(index);\r\n  };\r\n\r\n  const labelAddEvent = (label: Label) => {\r\n    labels.push(label);\r\n    setVersion((pre) => pre + 1);\r\n    setName(\"\");\r\n    setState(0);\r\n    setTextChange(false);\r\n  };\r\n\r\n  const editProps = {\r\n    label: labels[index],\r\n    index: index,\r\n    optionalColor: optionalColor,\r\n    goBackFC: () => {\r\n      setState(0);\r\n      setIndex(-1);\r\n    },\r\n    alterLabel: (label: Label) => {\r\n      labels[index] = label;\r\n      setVersion((pre) => pre + 1);\r\n    },\r\n    delete: labelDeleteEvent,\r\n    setState: setState,\r\n  };\r\n\r\n  const searchLabel = {\r\n    labels: labels,\r\n    index: index,\r\n    toEdit: () => {\r\n      setState(0);\r\n    },\r\n    setSearchName: (name: string) => {\r\n      setSearchName(name);\r\n    },\r\n    setIndex: (index: number) => {\r\n      setIndex(index);\r\n    },\r\n    delete: labelDeleteEvent,\r\n    setState: setState,\r\n  };\r\n\r\n  const createLabel: CreateLabelProps = {\r\n    optionalColor: optionalColor,\r\n    name: searchName,\r\n    add: labelAddEvent,\r\n    setState: setState,\r\n  };\r\n\r\n  let fold = <div></div>;\r\n  switch (state) {\r\n    case 0:\r\n      fold = <SearchLabel {...searchLabel} />;\r\n      break;\r\n    case 1:\r\n      fold = <EditLabel {...editProps} />;\r\n      break;\r\n    case 2:\r\n      fold = <CreateLabel {...createLabel} />;\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {labels.map((item, index) => {\r\n        let props: LabelProps = {\r\n          name: item.name,\r\n          color: item.color,\r\n          index: index,\r\n          deleteFC: labelDeleteEvent,\r\n        };\r\n        return <Label {...props}></Label>;\r\n      })}\r\n      <span>\r\n        <span\r\n          onClick={() => {\r\n            setState(0);\r\n          }}\r\n          className=\"position\"\r\n        >\r\n          {labels.length === 0 ? \"添加标签\" : <PlusCircleOutlined />}\r\n        </span>\r\n        <span className=\"floatMenu\">{fold}</span>\r\n      </span>\r\n\r\n      <div>\r\n        123123333333333333333333333333333333333333333333333333333333333333333333333\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport \"./style.less\";\n\nimport Label from \"./component/T/label\";\n\nfunction App() {\n  return (\n    <div>\n      <Label />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}